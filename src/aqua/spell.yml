# yaml-language-server: $schema=../../.fluence/schemas/spell.json
# Defines a spell. You can use `fluence spell new` command to generate a template for new spell
# Documentation: https://github.com/fluencelabs/fluence-cli/tree/main/docs/configs/spell.md
version: 0

aquaFilePath: ./decider/poll.aqua

function: main

clock:
  periodSec: 20
  endDelaySec: 1800

initArgs:
  worker_ipfs: /dns4/ipfs.fluence.dev/tcp/5001
  worker_config:
    clock:
      period_sec: 10
      start_sec: 1
      end_sec: 0
    blockchain:
      start_block: 0
      end_block: 0
    connections:
      connect: false
      disconnect: false
  # worker_script will be set by a shell script
  worker_script: |
    (call %init_peer_id% ("run-console" "print") ["I did it!"])
